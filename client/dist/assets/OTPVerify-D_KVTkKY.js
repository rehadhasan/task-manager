import{r as D,f as B,g as q,G,u as W,j as b,I as H,i as Y,n as R,h as $}from"./index-BMV6tUXj.js";var L={exports:{}};(function(T,F){(function(I,l){T.exports=l(D)})(typeof self<"u"?self:B,function(I){return function(l){var c={};function r(n){if(c[n])return c[n].exports;var i=c[n]={i:n,l:!1,exports:{}};return l[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=l,r.c=c,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var p in n)r.d(o,p,(function(a){return n[a]}).bind(null,p));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=0)}([function(l,c,r){Object.defineProperty(c,"__esModule",{value:!0});var n=Object.assign||function(v){for(var f=1;f<arguments.length;f++){var e=arguments[f];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(v[t]=e[t])}return v},i=function(){function v(f,e){for(var t=0;t<e.length;t++){var u=e[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}return function(f,e,t){return e&&v(f.prototype,e),t&&v(f,t),f}}(),o=r(1),p=k(o),a=k(r(2)),x=k(r(5)),S=r(6);function k(v){return v&&v.__esModule?v:{default:v}}var O=function(v){function f(e){(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,f);var t=function(P,C){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?P:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e)),u=e.fields,s=e.type,h=e.isValid,d=e.disabled,g=e.filterKeyCodes,m=e.forceUppercase,y=e.value;m&&(y=y.toUpperCase()),t.state={value:y,fields:u,type:s,input:[],isValid:h,disabled:d,filterKeyCodes:g,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var _=0;_<Number(t.state.fields);_+=1)if(_<32){var V=t.state.value[_]||"";t.state.input.push(V)}return t.textInput=[],t.uuid=(0,S.uuidv4)(),t}return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o.Component),i(f,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isValid:e.isValid,value:e.value,disabled:e.disabled})}},{key:"handleBlur",value:function(e){this.handleTouch(e.target.value)}},{key:"handleTouch",value:function(e){var t=this.props,u=t.touch,s=t.untouch,h=t.name;typeof u=="function"&&typeof s=="function"&&(e===""?u(h):s(h))}},{key:"handleChange",value:function(e){var t=this,u=this.props.filterChars,s=String(e.target.value);this.props.forceUppercase&&(s=s.toUpperCase()),this.state.type==="number"&&(s=s.replace(/[^\d]/g,""));var h=s=s.split("").filter(function(m){return!u.includes(m)}).join("");if(s!==""){var d=this.state.input.slice();s.length>1?s.split("").map(function(m,y){return Number(e.target.dataset.id)+y<t.props.fields&&(d[Number(e.target.dataset.id)+y]=m),!1}):d[Number(e.target.dataset.id)]=s,d.map(function(m,y){return t.textInput[y]&&(t.textInput[y].value=m),!1});var g=this.textInput[e.target.dataset.id<d.length?Number(e.target.dataset.id)+1:e.target.dataset.id];g&&(g.focus(),g.select()),h=d.join(""),this.setState({value:d.join(""),input:d})}this.props.onChange&&h&&this.props.onChange(h),this.handleTouch(h)}},{key:"handleKeyDown",value:function(e){var t=Number(e.target.dataset.id),u=this.textInput[t+1],s=this.textInput[t-1],h=void 0,d=void 0;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map(function(g){if(g===e.keyCode)return e.preventDefault(),!0}),e.keyCode){case 8:e.preventDefault(),this.textInput[t].value="",(h=this.state.input.slice())[t]="",d=h.join(""),this.setState({value:d,input:h}),this.textInput[t].value===""&&s&&(s.focus(),s.select()),this.props.onChange&&this.props.onChange(d);break;case 37:e.preventDefault(),s&&(s.focus(),s.select());break;case 39:e.preventDefault(),u&&(u.focus(),u.select());break;case 38:case 40:e.preventDefault();break;case 69:if(e.target.type==="number"){e.preventDefault();break}}this.handleTouch(d)}},{key:"render",value:function(){var e=this,t=this.props,u=t.className,s=t.style,h=s===void 0?{}:s,d=t.inputStyle,g=d===void 0?{}:d,m=t.inputStyleInvalid,y=m===void 0?{}:m,_=t.type,V=t.autoFocus,P=t.pattern,C=t.inputMode,N=this.state,U=N.disabled,M=N.input,K=N.isValid,A=N.defaultInputStyle,E={container:h,input:K?g:y};return Object.assign(E.container,{display:"inline-block"}),u||Object.keys(g).length!==0||Object.assign(g,n({},A,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),u||Object.keys(y).length!==0||Object.assign(y,n({},A,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),U&&Object.assign(E.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),p.default.createElement("div",{className:(0,x.default)(u,"react-code-input"),style:E.container},M.map(function(z,w){return p.default.createElement("input",{ref:function(j){e.textInput[w]=j},id:e.uuid+"-"+w,"data-id":w,autoFocus:V&&w===0?"autoFocus":"",value:z,key:"input_"+w,type:_,min:0,max:9,maxLength:M.length===w+1?1:M.length,style:E.input,autoComplete:"off",onFocus:function(j){return j.target.select(j)},onBlur:function(j){return e.handleBlur(j)},onChange:function(j){return e.handleChange(j)},onKeyDown:function(j){return e.handleKeyDown(j)},disabled:U,"data-valid":K,pattern:P,inputMode:C})}))}}]),f}();O.defaultProps={autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."]},O.propTypes={type:a.default.oneOf(["text","number","password","tel"]),fields:a.default.number,value:a.default.string,onChange:a.default.func,name:a.default.string,touch:a.default.func,untouch:a.default.func,className:a.default.string,isValid:a.default.bool,disabled:a.default.bool,style:a.default.object,inputStyle:a.default.object,inputStyleInvalid:a.default.object,autoFocus:a.default.bool,forceUppercase:a.default.bool,filterKeyCodes:a.default.array,filterChars:a.default.array,pattern:a.default.string,inputMode:a.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},c.default=O},function(l,c){l.exports=I},function(l,c,r){l.exports=r(3)()},function(l,c,r){var n=r(4);function i(){}l.exports=function(){function o(x,S,k,O,v,f){if(f!==n){var e=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw e.name="Invariant Violation",e}}function p(){return o}o.isRequired=o;var a={array:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:p,element:o,instanceOf:p,node:o,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p};return a.checkPropTypes=i,a.PropTypes=a,a}},function(l,c,r){l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(l,c,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var i={}.hasOwnProperty;function o(){for(var p=[],a=0;a<arguments.length;a++){var x=arguments[a];if(x){var S=typeof x;if(S==="string"||S==="number")p.push(x);else if(Array.isArray(x)&&x.length){var k=o.apply(null,x);k&&p.push(k)}else if(S==="object")for(var O in x)i.call(x,O)&&x[O]&&p.push(O)}}return p.join(" ")}l!==void 0&&l.exports?(o.default=o,l.exports=o):(n=(function(){return o}).apply(c,[]))===void 0||(l.exports=n)})()},function(l,c,r){Object.defineProperty(c,"__esModule",{value:!0}),c.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=16*Math.random()|0;return(n==="x"?i:3&i|8).toString(16)})}}])})})(L);var J=L.exports;const Q=q(J),Z=()=>{const[T,F]=D.useState(""),{UserVerifyOTPRequest:I}=G(),l=W(),c=async()=>{Y(T)?R.error("OTP Required"):$(T)?await I(T)?(R.success("OTP Verification Successful"),l("/forget")):R.error("Invalid OTP. Try Again"):R.error("OTP must be exactly 6 digits")},r={fontFamily:"monospace",margin:"5px",paddingLeft:"8px",width:"45px",borderRadius:"3px",height:"45px",fontSize:"32px",border:"1px solid #000",color:"#000",backgroundColor:"#fff"};return b.jsx(D.Fragment,{children:b.jsxs("div",{className:"container",children:[b.jsx("div",{className:"row justify-content-center",children:b.jsx("div",{className:"col-md-7 col-lg-6 center-screen",children:b.jsx("div",{className:"card w-90 p-4",children:b.jsxs("div",{className:"card-body",children:[b.jsx("h4",{className:"card-title",children:"Email Verification"}),b.jsx("br",{}),b.jsx("label",{className:"form-label",children:"Type the 6-digit code we sent to your email"}),b.jsx(Q,{onChange:n=>F(n),name:"otp",inputStyle:r,fields:6,inputMode:"numeric"}),b.jsx("br",{}),b.jsx("button",{onClick:c,className:"btn w-100 animated fadeInUp float-end btn-primary mt-3",children:"Verify"})]})})})}),b.jsx(H,{position:"bottom-center"})]})})};export{Z as default};
