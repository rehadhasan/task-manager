import{r as a,G as N,j as e,A as f,a as y,b as S,L as w,n as t,i as k}from"./index-CouVGet9.js";import{M as l,B as h}from"./Modal-szbqr-Lj.js";const T=()=>{const[x,r]=a.useState(!1),[c,i]=a.useState(""),[m,j]=a.useState(null),{ListTaskByStatusRequest:n,ListTaskByStatus:o,DeleteTaskRequest:u,UpdateTaskRequest:p}=N();a.useEffect(()=>{(async()=>await n("progress"))()},[]);const v=async s=>{await u(s)?(await n("progress"),t.success("Item Deleted Successfully")):t.error("Try Again Later")},g=async()=>{k(c)?t.error("Please Select Another Status"):await p(m,c)?(t.success("Task Status Changed"),await n("progress"),r(!1)):t.error("Something Went Wrong")};return e.jsx(a.Fragment,{children:e.jsx("div",{className:"container",children:o.length!==0?e.jsxs("div",{children:[e.jsxs("div",{className:"row p-0 m-0",children:[e.jsx("div",{className:"col-12 col-md-6 col-lg-8 px-3",children:e.jsx("h5",{children:"Task In Progress"})}),e.jsx("div",{className:"col-12 float-end col-md-6 col-lg-4 px-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8",children:e.jsx("input",{className:"form-control w-100",placeholder:"Search..."})}),e.jsx("div",{className:"col-4",children:e.jsx("button",{className:"btn btn-primary w-100",children:"Search"})})]})})]}),e.jsx("div",{className:"row p-0 m-0",children:o.map((s,d)=>e.jsx("div",{className:"col-12 col-lg-4 col-sm-6 col-md-4 p-2",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{children:s.title}),e.jsx("p",{children:s.description}),e.jsxs("p",{children:[e.jsx(f,{})," ",s.createdAt]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("a",{onClick:()=>{r(!0),j(s._id),i(s.status)},className:"icon-nav text-primary mx-1",style:{cursor:"pointer"},children:e.jsx(y,{})}),e.jsx("a",{onClick:()=>v(s._id),className:"icon-nav text-danger mx-1",style:{cursor:"pointer"},children:e.jsx(S,{})}),e.jsx("span",{className:"badge float-end bg-black text-white",children:s.status})]})]})})},d))}),e.jsxs(l,{show:x,onHide:()=>r(!1),centered:!0,children:[e.jsx(l.Header,{closeButton:!0,children:e.jsx(l.Title,{children:"Update Task Status"})}),e.jsx(l.Body,{children:e.jsxs("select",{value:c,onChange:s=>i(s.target.value),className:"form-control form-select",children:[e.jsx("option",{value:"progress",children:"In Progress"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"cancel",children:"Canceled"}),e.jsx("option",{value:"complete",children:"Completed"})]})}),e.jsxs(l.Footer,{children:[e.jsx(h,{variant:"secondary",onClick:()=>r(!1),children:"Close"}),e.jsx(h,{variant:"primary",onClick:g,children:"Save Changes"})]})]})]}):e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-3 text-muted",children:"Progress is empty."}),e.jsx(w,{to:"/create",className:"btn btn-primary",children:"Create One"})]})})})})};export{T as default};
