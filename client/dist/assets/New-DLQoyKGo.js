import{r as a,G as w,j as e,A as f,a as S,b as g,L as y,n as t,i as k}from"./index-D68JTGLz.js";import{M as l,B as x}from"./Modal-CgstcjBh.js";const T=()=>{const[m,c]=a.useState(!1),[n,r]=a.useState(""),[j,o]=a.useState(null),{ListTaskByStatusRequest:i,ListTaskByStatus:d,DeleteTaskRequest:u,UpdateTaskRequest:p}=w();a.useEffect(()=>{(async()=>await i("new"))()},[]);const v=async s=>{await u(s)?(await i("new"),t.success("Item Delete Successful")):t.error("Try Again Later")},N=async()=>{if(k(n)){t.error("Please Select Another Status");return}await p(j,n)?(t.success("Task Status Changed"),await i("new"),c(!1),r(""),o(null)):t.error("Something Went Wrong")};return e.jsx(a.Fragment,{children:e.jsx("div",{className:"container",children:d.length!==0?e.jsxs("div",{children:[e.jsxs("div",{className:"row p-0 m-0",children:[e.jsx("div",{className:"col-12 col-md-6 col-lg-8 px-3",children:e.jsx("h5",{children:"Task New"})}),e.jsx("div",{className:"col-12 float-end col-md-6 col-lg-4 px-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8",children:e.jsx("input",{className:"form-control w-100",placeholder:"Search..."})}),e.jsx("div",{className:"col-4",children:e.jsx("button",{className:"btn btn-primary w-100",children:"Search"})})]})})]}),e.jsx("div",{className:"row p-0 m-0",children:d.map((s,h)=>e.jsx("div",{className:"col-12 col-lg-4 col-sm-6 col-md-4 p-2",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{children:s.title}),e.jsx("p",{children:s.description}),e.jsxs("p",{children:[e.jsx(f,{})," ",s.createdAt]}),e.jsxs("p",{className:"m-0 mt-3",children:[e.jsx("a",{onClick:()=>{c(!0),o(s._id),r("")},className:"icon-nav text-primary mx-1",children:e.jsx(S,{})}),e.jsx("a",{onClick:()=>v(s._id),className:"icon-nav text-danger mx-1",children:e.jsx(g,{})}),e.jsx("span",{className:"badge float-end bg-info text-white",children:s.status})]})]})})},h))}),e.jsxs(l,{show:m,onHide:()=>c(!1),centered:!0,children:[e.jsx(l.Header,{closeButton:!0,children:e.jsx(l.Title,{children:"Update Task Status"})}),e.jsx(l.Body,{children:e.jsxs("select",{value:n,onChange:s=>r(s.target.value),className:"form-control form-select",children:[e.jsx("option",{value:"",children:"-- Select Status --"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"progress",children:"In Progress"}),e.jsx("option",{value:"cancel",children:"Canceled"}),e.jsx("option",{value:"complete",children:"Completed"})]})}),e.jsxs(l.Footer,{children:[e.jsx(x,{variant:"dark",onClick:()=>c(!1),children:"Close"}),e.jsx(x,{variant:"primary",onClick:N,children:"Save changes"})]})]})]}):e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-3 text-muted",children:"New is empty."}),e.jsx(y,{to:"/create",className:"btn btn-primary",children:"Create One"})]})})})})};export{T as default};
