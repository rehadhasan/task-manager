import{r as a,G as f,j as e,A as g,a as y,b as w,L as b,n as t,i as k}from"./index-BMV6tUXj.js";import{M as l,B as m}from"./Modal-CMQz9Y06.js";const T=()=>{const[x,c]=a.useState(!1),[r,h]=a.useState(""),[p,i]=a.useState(null),{ListTaskByStatusRequest:n,ListTaskByStatus:d,DeleteTaskRequest:u,UpdateTaskRequest:j}=f();a.useEffect(()=>{(async()=>await n("complete"))()},[]);const N=async s=>{await u(s)?(await n("complete"),t.success("Item deleted successfully")):t.error("Try again later")},v=async()=>{if(k(r)){t.error("Please select another status");return}await j(p,r)?(t.success("Task status changed"),await n("complete"),c(!1),i(null)):t.error("Something went wrong")};return e.jsxs(a.Fragment,{children:[e.jsx("div",{className:"container",children:d.length!==0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row p-0 m-0",children:[e.jsx("div",{className:"col-12 col-md-6 col-lg-8 px-3",children:e.jsx("h5",{children:"Tasks Completed"})}),e.jsx("div",{className:"col-12 col-md-6 col-lg-4 px-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8",children:e.jsx("input",{className:"form-control w-100",placeholder:"Search..."})}),e.jsx("div",{className:"col-4",children:e.jsx("button",{className:"btn btn-primary w-100",children:"Search"})})]})})]}),e.jsx("div",{className:"row p-0 m-0",children:d.map((s,o)=>e.jsx(a.Fragment,{children:e.jsx("div",{className:"col-12 col-lg-4 col-sm-6 col-md-4 p-2",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"animated fadeInUp",children:s.title}),e.jsx("p",{className:"animated fadeInUp",children:s.description}),e.jsxs("p",{className:"animated fadeInUp",children:[e.jsx(g,{})," ",s.createdAt]}),e.jsxs("p",{className:"m-0 animated fadeInUp p-0 mt-3",children:[e.jsx("span",{onClick:()=>{i(s._id),c(!0)},className:"icon-nav text-primary mx-1",style:{cursor:"pointer"},children:e.jsx(y,{})}),e.jsx("span",{onClick:()=>N(s._id),className:"icon-nav text-danger mx-1",style:{cursor:"pointer"},children:e.jsx(w,{})}),e.jsx("span",{className:"badge float-end bg-primary text-white",children:s.status})]})]})})})},o))})]}):e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-3 text-muted",children:"Completed is empty."}),e.jsx(b,{to:"/create",className:"btn btn-primary",children:"Create One"})]})})}),e.jsxs(l,{show:x,onHide:()=>c(!1),children:[e.jsx(l.Header,{closeButton:!0,children:e.jsx(l.Title,{children:"Update Task Status"})}),e.jsx(l.Body,{children:e.jsxs("select",{onChange:s=>h(s.target.value),className:"form-control form-select",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select status"}),e.jsx("option",{value:"complete",children:"Completed"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"progress",children:"In Progress"}),e.jsx("option",{value:"cancel",children:"Canceled"})]})}),e.jsxs(l.Footer,{children:[e.jsx(m,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),e.jsx(m,{variant:"primary",onClick:v,children:"Save Changes"})]})]})]})};export{T as default};
