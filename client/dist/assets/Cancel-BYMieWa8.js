import{r as a,G as f,j as e,A as g,a as S,b as y,L as w,n as t,i as C}from"./index-BMV6tUXj.js";import{M as l,B as o}from"./Modal-CMQz9Y06.js";const T=()=>{const[h,c]=a.useState(!1),[m,x]=a.useState(null),[r,j]=a.useState(""),{ListTaskByStatusRequest:n,ListTaskByStatus:i,DeleteTaskRequest:u,UpdateTaskRequest:p}=f();a.useEffect(()=>{(async()=>await n("cancel"))()},[]);const v=async s=>{await u(s)?(await n("cancel"),t.success("Item Deleted Successfully")):t.error("Try Again Later")},N=async()=>{if(C(r)){t.error("Please Select Another Status");return}await p(m,r)?(t.success("Task Status Changed"),await n("cancel"),c(!1)):t.error("Something Went Wrong")};return e.jsx(a.Fragment,{children:e.jsxs("div",{className:"container",children:[i.length!==0?e.jsxs("div",{children:[e.jsxs("div",{className:"row p-0 m-0",children:[e.jsx("div",{className:"col-12 col-md-6 col-lg-8 px-3",children:e.jsx("h5",{children:"Task Canceled"})}),e.jsx("div",{className:"col-12 col-md-6 col-lg-4 px-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-8",children:e.jsx("input",{className:"form-control w-100",placeholder:"Search (optional)"})}),e.jsx("div",{className:"col-4",children:e.jsx("button",{className:"btn btn-primary w-100",children:"Search"})})]})})]}),e.jsx("div",{className:"row p-0 m-0",children:i.map((s,d)=>e.jsx("div",{className:"col-12 col-lg-4 col-sm-6 col-md-4 p-2",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"animated fadeInUp",children:s.title}),e.jsx("p",{className:"animated fadeInUp",children:s.description}),e.jsxs("p",{className:"animated fadeInUp",children:[e.jsx(g,{})," ",s.createdAt]}),e.jsxs("p",{className:"m-0 animated fadeInUp p-0 mt-3",children:[e.jsx("span",{onClick:()=>{x(s._id),c(!0)},className:"icon-nav text-primary mx-1",style:{cursor:"pointer"},children:e.jsx(S,{})}),e.jsx("span",{onClick:()=>v(s._id),className:"icon-nav text-danger mx-1",style:{cursor:"pointer"},children:e.jsx(y,{})}),e.jsx("span",{className:"badge float-end bg-danger text-white",children:s.status})]})]})})},d))})]}):e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"60vh"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-3 text-muted",children:"Cancel is empty."}),e.jsx(w,{to:"/create",className:"btn btn-primary",children:"Create One"})]})}),e.jsxs(l,{show:h,onHide:()=>c(!1),centered:!0,children:[e.jsx(l.Header,{closeButton:!0,children:e.jsx(l.Title,{children:"Change Task Status"})}),e.jsx(l.Body,{children:e.jsxs("select",{onChange:s=>j(s.target.value),className:"form-control form-select",children:[e.jsx("option",{value:"",children:"-- Select Status --"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"progress",children:"In Progress"}),e.jsx("option",{value:"complete",children:"Completed"}),e.jsx("option",{value:"cancel",children:"Canceled"})]})}),e.jsxs(l.Footer,{children:[e.jsx(o,{variant:"dark",onClick:()=>c(!1),children:"Close"}),e.jsx(o,{variant:"primary",onClick:N,children:"Save Changes"})]})]})]})})};export{T as default};
